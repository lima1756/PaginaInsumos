(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{107:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),l=a.n(o),c=(a(41),a(5)),i=(a(42),a(43),a(4));a(88);var s=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)(null),s=Object(c.a)(i,2),u=s[0],d=s[1];return r.a.createElement("div",{className:"SearchBar"},r.a.createElement("div",{className:o?"search open":"search"},r.a.createElement("input",{type:"search",className:"browser-default search-box",ref:function(e){d(e)},value:e.searchValue,onChange:function(t){e.setSearchValue(t.target.value)}}),r.a.createElement("span",{className:"search-button",onClick:function(){if(""===e.searchValue){var t=!o;l(t),t&&u&&u.focus()}else alert(e.searchValue)}},r.a.createElement("span",{className:"search-icon"}))))},u=a(19),d=a.n(u),m=a(34),p=a(8),g=a(12),v=a.n(g);a(107);var f=Object(p.GoogleApiWrapper)(function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,v.a.get("/mapspoint").data.key;case 4:return a=e.sent,console.log(a),e.abrupt("return",{apiKey:a});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{apiKey:""});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())((function(e){return r.a.createElement("div",{className:"Map"},r.a.createElement(p.Map,{style:{width:"100%",height:"80vh"},containerStyle:{position:"relative",width:"100%",height:"80vh"},google:e.google,zoom:14,initialCenter:null!=e.location?{lat:e.location.latitude,lng:e.location.longitude}:{lat:0,lng:0},onClick:e.onMapClicked},e.children))})),b=a(35);var h=function(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)({maskType:[],quantity:[],price:[]}),g=Object(c.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(0),y=Object(c.a)(h,2),E=y[0],k=y[1],O=function(e,t){return function(a){var n=JSON.parse(JSON.stringify(f));n[e][t]=a.target.value,b(n)}};return r.a.createElement(i.Modal,{actions:[r.a.createElement(i.Button,{flat:!0,modal:"close",node:"button",waves:"green",onClick:function(){e.setVisible(!1)}},"Close")],bottomSheet:!1,fixedFooter:!1,header:"Add you store",id:"Modal-0",open:e.visible,options:{dismissible:!0,endingTop:"10%",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"4%"}},r.a.createElement("div",null,r.a.createElement(i.TextInput,{label:"Store name",value:d,onChange:function(e){m(e.target.value)}}),r.a.createElement(i.TextInput,{label:"Address",value:o,onChange:function(e){l(e.target.value)}}),r.a.createElement(i.TextInput,{type:"number",label:"Number of items you want to add",value:E,onChange:function(e){k(e.target.value);for(var t=[],a=[],n=0;n<e.target.value;n++)t.push(""),a.push(0);b({maskType:t,quantity:a,price:a})}})),f.price.map((function(e,t){return r.a.createElement(i.Row,{key:t},r.a.createElement(i.TextInput,{label:"Mask Type",value:f.maskType[t],onChange:O("maskType",t)}),r.a.createElement(i.TextInput,{label:"Quantity",type:"number",value:f.quantity[t],onChange:O("quantity",t)}),r.a.createElement(i.TextInput,{label:"Price",type:"number",value:f.price[t],onChange:O("price",t)}))})),r.a.createElement(i.Button,{node:"submit",waves:"light",onClick:function(){if(E<=0)alert("please add inventory");else{var e={address:o,storeId:d,inventory:f};v.a.post("/addstore",e).then((function(e){console.log(e)}),(function(e){console.log(e)}))}}},"Submit"))};a(123);var y=Object(b.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})((function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),o=a[0],l=a[1],u=Object(n.useState)(""),d=Object(c.a)(u,2),m=d[0],g=d[1],b=Object(n.useState)({}),y=Object(c.a)(b,2),E=y[0],k=y[1],O=Object(n.useState)(!0),j=Object(c.a)(O,2),S=j[0],C=j[1],I=Object(n.useState)(!1),T=Object(c.a)(I,2),w=T[0],N=T[1],M=Object(n.useState)(""),q=Object(c.a)(M,2),x=q[0];q[1],Object(n.useEffect)((function(){!function(e){var t={};null!=e&&(t={area:e}),v.a.get("/stores",t).then((function(e){console.log(e.data),l(e.data)})).catch((function(e){console.log(e),l([{_id:1,storeId:1,address:"direccion 1",lat:"20.685950",long:"-103.377770",inventory:{maskType:[1],quantity:[20],price:[5]}},{_id:2,storeId:2,address:"direccion 2",lat:"20.660874",long:"-103.350021",inventory:{maskType:[1,5],quantity:[1,2],price:[1,2]}},{_id:4,storeId:3,address:"direccion 3",lat:"20.679046",long:"-103.371433",inventory:{maskType:[20],quantity:[100],price:[200]}}])}))}(),C(!0)}),[]);var V=function(e){return-1===e?function(e,t,a){k({address:"Your position"}),C(!0)}:function(t,a,n){var r=B[e+""];console.log(r),k(r),C(!0)}},A={};A=e.coords?r.a.createElement(p.Marker,{title:"Your location",name:"YOU",position:{lat:e.coords.latitude,lng:e.coords.longitude},onClick:V(-1)}):r.a.createElement(p.Marker,{title:"Your location",name:"YOU",position:{lat:0,lng:0},onClick:V(-1)});for(var B={},D=0;D<o.length;D++){var Y=o[D];B[Y.storeId]?(B[Y.storeId].maskType.push(Y.maskType),B[Y.storeId].quantity.push(Y.quantity)):B[Y.storeId]={storeId:Y.storeId,address:Y.address,lat:Y.lat,long:Y.long,maskType:[Y.maskType],quantity:[Y.quantity],marker:r.a.createElement(p.Marker,{key:Y.storeId,name:Y.address,onClick:V(Y.storeId),position:{lat:Y.lat,lng:Y.long}})}}return r.a.createElement("div",{className:"App"},r.a.createElement(i.Navbar,{className:"navbar",alignLinks:"right",brand:r.a.createElement("a",{className:"brand-logo",href:"#"},r.a.createElement("img",{src:"/static/imgs/logo.png",style:{height:"6vh"}})),id:"mobile-nav",menuIcon:r.a.createElement(i.Icon,null,"menu"),options:{draggable:!0,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0}},r.a.createElement(i.NavItem,{href:"#",onClick:function(){N(!0)}},"Add store")),r.a.createElement("div",{className:"MapContainer"},r.a.createElement(s,{setSearchValue:g,searchValue:m}),r.a.createElement(f,{location:e.coords,searchResults:o,stores:B,onMapClicked:function(e){S&&C(!1)},apiKey:x},Object.keys(B).map((function(e){return B[e].marker})),A,r.a.createElement(p.InfoWindow,{position:{lat:E.lat,lng:E.long},visible:S},r.a.createElement("div",null,E.address)," "))),r.a.createElement("div",{className:"results"},r.a.createElement(i.Table,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-field":"id"},"Location"),r.a.createElement("th",{"data-field":"name"},"Mask Type"),r.a.createElement("th",{"data-field":"price"},"Qty"),r.a.createElement("th",{"data-field":"price"},"Price"))),r.a.createElement("tbody",null,o.map((function(e){return r.a.createElement("tr",{key:e._id,onClick:V(e.storeId),className:"clickable"},r.a.createElement("td",null,e.address),r.a.createElement("td",null,e.inventory.maskType.reduce((function(e,t){return e+", "+t}))),r.a.createElement("td",null,e.inventory.quantity.reduce((function(e,t){return e+", "+t}))),r.a.createElement("td",null,e.inventory.price.reduce((function(e,t){return e+", "+t}))))}))))),r.a.createElement(h,{visible:w,setVisible:N}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,a){e.exports=a(124)},41:function(e,t,a){},42:function(e,t,a){},88:function(e,t,a){}},[[36,1,2]]]);
//# sourceMappingURL=main.8309501d.chunk.js.map